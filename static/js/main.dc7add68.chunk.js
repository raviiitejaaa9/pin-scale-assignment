(this["webpackJsonpnxt-trendz-specific-product-details"]=this["webpackJsonpnxt-trendz-specific-product-details"]||[]).push([[0],{298:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},559:function(e,t,a){},560:function(e,t,a){},561:function(e,t,a){},562:function(e,t,a){},563:function(e,t,a){},564:function(e,t,a){},565:function(e,t,a){},566:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(55),r=a.n(c),i=a(33),l=a(18),o=a(16),d=a(24),u=a(29),j=a(30),h=a(31),p=a(32),b=a(15),m=a.n(b),O=(a(298),a(2)),x=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",errorMsg:""},e.onSubmitFailure=function(t){e.setState({errorMsg:t})},e.onSubmitSuccess=function(t){var a=e.props.history;m.a.set("jwt_token",t),a.replace("/")},e.onSubmitForm=function(){var t=Object(d.a)(Object(o.a)().mark((function t(a){var s,n,c,r,i,l,d,u,j,h,p;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=e.state,n=s.username,c=s.password,"https://bursting-gelding-24.hasura.app/api/rest/get-user-id",r={email:n,password:c},i={method:"POST",headers:{"Content-Type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF"},body:JSON.stringify(r)},t.next=7,fetch("https://bursting-gelding-24.hasura.app/api/rest/get-user-id",i);case 7:if(l=t.sent,d="Incorrect Username or Password",!l.ok){t.next=18;break}return t.next=12,l.json();case 12:u=t.sent,j={getUserId:u.get_user_id},1===(h=j.getUserId).length?(p=h[0].id,e.onSubmitSuccess(p)):e.onSubmitFailure(d),t.next=19;break;case 18:e.onSubmitFailure(d);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangePassword=function(t){e.setState({password:t.target.value})},e.onChangeUsername=function(t){e.setState({username:t.target.value})},e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,s=e.errorMsg;return Object(O.jsxs)("div",{className:"login-page",children:[Object(O.jsx)("img",{src:"https://res.cloudinary.com/dyukfze9f/image/upload/v1690628975/Money_Matters_hgn180.png",alt:"logo",className:"logo-image"}),Object(O.jsxs)("form",{onSubmit:this.onSubmitForm,className:"login-form",children:[Object(O.jsxs)("div",{className:"input-el-container",children:[Object(O.jsxs)("label",{htmlFor:"user",className:"label-el",children:[" ","Username"," "]}),Object(O.jsx)("input",{value:t,type:"input",placeholder:"Username",id:"user",onChange:this.onChangeUsername,className:"input-el"})]}),Object(O.jsxs)("div",{className:"input-el-container",children:[Object(O.jsxs)("label",{htmlFor:"password",className:"label-el",children:[" ","Password"," "]}),Object(O.jsx)("input",{value:a,type:"password",placeholder:"Password",id:"password",onChange:this.onChangePassword,className:"input-el"})]}),Object(O.jsx)("div",{className:"btn-container",children:Object(O.jsxs)("button",{type:"submit",className:"login-btn",children:[" ","Sign in"," "]})}),Object(O.jsxs)("p",{className:"error-msg",children:[" ",s," "]})]})]})}}]),a}(s.Component),g=x,f=a(37),N=function(e){return void 0===m.a.get("jwt_token")?Object(O.jsx)(l.a,{to:"/login"}):Object(O.jsx)(l.b,Object(f.a)({},e))},v=a(75),y=a(76),S=a(73),C=a(56),w=a(57),A=a(166),T=(a(304),function(){var e=function(){m.a.remove("jwt_token"),window.location.reload()};return Object(O.jsx)("div",{children:Object(O.jsx)(C.a,{modal:!0,trigger:Object(O.jsx)(A.a,{className:"react-icon",onClick:e}),children:function(t){return Object(O.jsxs)("div",{className:"logout-popup",children:[Object(O.jsx)(A.a,{className:"logout-icon"}),Object(O.jsxs)("div",{className:"logout-data",children:[Object(O.jsx)("h1",{children:" Are you Sure you want to logout "}),Object(O.jsx)("p",{children:" click yes to logout "}),Object(O.jsxs)("div",{className:"logout-btns-container",children:[Object(O.jsxs)("button",{type:"button",className:"logout-sec-btns yes-btn",onClick:e,children:[" ","Yes, Logout"," "]}),Object(O.jsxs)("button",{type:"button",className:"logout-sec-btns cancel-btn",onClick:function(){return t()},children:[" ","Cancel"," "]})]})]}),Object(O.jsx)(w.a,{onClick:function(){return t()},className:"cancel-icon"})]})}})})}),k=(a(305),function(e){var t=e.onChangeNavItem;return Object(O.jsxs)("nav",{className:"vertical-navbar",children:[Object(O.jsxs)("div",{className:"nav-logo-list-sec",children:[Object(O.jsx)("img",{src:"https://sawn.org.uk/wp-content/uploads/2020/03/Money-Matters-Full-Colour-Logo.png",className:"app-logo",alt:"app-logo"}),Object(O.jsxs)("ul",{className:"navbar-items",children:[Object(O.jsx)(i.b,{to:"/",className:"link-el",children:Object(O.jsx)("li",{className:"list-items",onClick:function(){t("dashboard")},children:Object(O.jsxs)("div",{className:"nav-icon-el-container",children:[Object(O.jsx)(y.b,{className:"nav-icons"}),Object(O.jsx)("p",{children:" Dashboard "})]})})}),Object(O.jsx)(i.b,{to:"all-transactions",className:"link-el",children:Object(O.jsx)("li",{className:"list-items",onClick:function(){t("allTransactions")},children:Object(O.jsxs)("div",{className:"nav-icon-el-container",children:[Object(O.jsx)(y.a,{className:"nav-icons"}),Object(O.jsx)("p",{children:" All Transactions "})]})})}),Object(O.jsx)(i.b,{to:"/profile",className:"link-el",children:Object(O.jsx)("li",{className:"list-items",onClick:function(){t("profile")},children:Object(O.jsxs)("div",{className:"nav-icon-el-container",children:[Object(O.jsx)(S.a,{className:"nav-icons"}),Object(O.jsx)("p",{children:" Profile "})]})})})]})]}),Object(O.jsxs)("div",{className:"nav-profile-sec",children:[Object(O.jsx)("img",{className:"profile-img",alt:"profile-img",src:"https://thumbs.dreamstime.com/b/businesswoman-profile-icon-female-portrait-flat-design-vector-illustration-47075260.jpg"}),Object(O.jsxs)("div",{className:"name-email-container",children:[Object(O.jsxs)("div",{className:"name-logout-btn-container",children:[Object(O.jsx)("p",{children:" username "}),Object(O.jsx)(T,{})]}),Object(O.jsx)("p",{children:" email@gmail.com "})]})]})]})}),F=(a(306),function(e){var t=e.onChangeNavItem;return Object(O.jsx)("nav",{className:"mobile-navbar",children:Object(O.jsxs)("div",{className:"mobile-navbar-items",children:[Object(O.jsx)(i.b,{to:"/",className:"link-el",onClick:function(){t("dashboard")},children:Object(O.jsx)(y.b,{className:"nav-icons"})}),Object(O.jsx)(i.b,{to:"all-transactions",className:"link-el",onClick:function(){t("allTransactions")},children:Object(O.jsx)(y.a,{className:"nav-icons"})}),Object(O.jsx)(i.b,{to:"/profile",className:"link-el",onClick:function(){t("profile")},children:Object(O.jsx)(S.a,{className:"nav-icons"})}),Object(O.jsx)(T,{})]})})}),D=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={transactionName:"",transactionType:"",category:"",amount:"",date:""},e.onChangeTransactionName=function(t){e.setState({transactionName:t.target.value})},e.onChangeTransactionType=function(t){e.setState({transactionType:t.target.value})},e.onChangeCategory=function(t){e.setState({category:t.target.value})},e.onChangeAmount=function(t){e.setState({amount:t.target.value})},e.onChangeDate=function(t){var a=t.target.value,s=new Date(a).toISOString();e.setState({date:s})},e.onAddSuccess=function(){console.log("success")},e.onAddFailure=function(){console.log("failure")},e.onAddTransaction=function(){var t=Object(d.a)(Object(o.a)().mark((function t(a){var s,n,c,r,i,l,d,u,j,h,p,b;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state,n=s.transactionName,c=s.transactionType,r=s.category,i=s.amount,l=s.date,d=e.props.close,a.preventDefault(),"https://bursting-gelding-24.hasura.app/api/rest/add-transaction",u=m.a.get("jwt_token"),j={name:n,type:c,category:r,amount:i,date:l,user_id:u},h={method:"POST",headers:{"Content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":3===u?"admin":"user","x-hasura-user-id":u},body:JSON.stringify(j)},t.next=10,fetch("https://bursting-gelding-24.hasura.app/api/rest/add-transaction",h);case 10:if(p=t.sent,console.log(p),!p.ok){t.next=20;break}return t.next=15,p.json();case 15:b=t.sent,console.log(b),e.onAddSuccess(),t.next=21;break;case 20:e.onAddFailure();case 21:d(),window.location.reload();case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.transactionName,a=e.transactionType,s=e.category,n=e.amount,c=e.date,r=this.props.close;return Object(O.jsxs)("form",{onSubmit:this.onAddTransaction,className:"add-transaction-form",children:[Object(O.jsxs)("div",{className:"transaction-head-sec",children:[Object(O.jsx)("h1",{children:" Add Transaction "}),Object(O.jsx)(w.a,{onClick:function(){return r()}})]}),Object(O.jsx)("p",{children:" You can add your Transactions here "}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"transactionName",className:"label-el",children:[" ","Transaction Name"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Enter Name",value:t,id:"transactionName",onChange:this.onChangeTransactionName})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsx)("label",{htmlFor:"transactionType",children:" Transaction Type "}),Object(O.jsxs)("select",{name:"type",value:a,required:!0,className:"input-el select-el",onChange:this.onChangeTransactionType,id:"transactionType",children:[Object(O.jsx)("option",{value:"",hidden:!0,disabled:!0,children:"Select transaction type"}),Object(O.jsx)("option",{value:"debit",children:" Debit "}),Object(O.jsx)("option",{value:"credit",children:" Credit "})]})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsx)("label",{htmlFor:"category",children:" Category "}),Object(O.jsxs)("select",{name:"type",value:s,required:!0,className:"input-el select-el",id:"category",onChange:this.onChangeCategory,children:[Object(O.jsx)("option",{value:"",hidden:!0,disabled:!0,children:"Select"}),Object(O.jsx)("option",{value:"",hidden:!0,disabled:!0,children:"Select category"}),Object(O.jsx)("option",{value:"entertainment",children:"Entertainment"}),Object(O.jsx)("option",{value:"food",children:"Food"}),Object(O.jsx)("option",{value:"shopping",children:"Shopping"}),Object(O.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"amount",className:"label-el",children:[" ","Amount"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Enter Amount",value:n,id:"amount",onChange:this.onChangeAmount})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"date",className:"label-el",children:[" ","Date"," "]}),Object(O.jsx)("input",{type:"datetime-local",className:"input-el",value:c,id:"date",onChange:this.onChangeDate})]}),Object(O.jsxs)("button",{className:"add-transaction",type:"submit",children:[" ","Add Transaction"," "]})]})}}]),a}(s.Component),I=D,E=function(){return Object(O.jsx)("div",{className:"popup-container",children:Object(O.jsx)(C.a,{modal:!0,trigger:Object(O.jsx)("button",{className:"add-transaction-btn",type:"button",children:"+ Add Transaction"}),children:function(e){return Object(O.jsx)(I,{close:e})}})})},_=(a(307),Object(l.g)((function(e){var t,a=e.headerName;return t="user"===("3"===m.a.get("jwt_token")?"admin":"user")?Object(O.jsx)(E,{}):null,Object(O.jsxs)("div",{className:"app-header",children:[Object(O.jsxs)("h1",{className:"app-head",children:[" ",a," "]}),t]})}))),L=a(58),P=(a(308),function(e){var t,a,s=e.eachTransaction,n=s.transactionName,c=s.type,r=s.amount,i=s.category,l=s.date;"debit"===c?(t=Object(O.jsxs)("p",{className:"para-el debit-transaction",children:[" -",r," "]}),a=Object(O.jsx)(L.a,{className:"debit-transaction icons"})):(t=Object(O.jsxs)("p",{className:"para-el credit-transaction",children:[" +",r]}),a=Object(O.jsx)(L.c,{className:"credit-transaction icons"}));var o=new Date(l).toLocaleString("en-US",{day:"numeric",month:"short",hour:"numeric",minute:"numeric",hour12:!0});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("li",{className:"dash-list-item",children:[a,Object(O.jsxs)("p",{className:"para-el",children:[" ",n," "]}),Object(O.jsxs)("p",{className:"para-el",children:[" ",i," "]}),Object(O.jsxs)("p",{className:"para-el",children:[" ",o," "]}),t]}),Object(O.jsx)("hr",{className:"hr-el"})]})}),K=(a(309),a(310),function(){return Object(O.jsx)("div",{className:"not-found",children:Object(O.jsx)("h1",{children:" ...Loading "})})}),U=(a(311),function(){return Object(O.jsx)("div",{className:"not-found",children:Object(O.jsx)("h1",{children:" Oops Something went wrong ... "})})}),B="INITIAL",V="SUCCESS",z="FAILURE",q="LOADING",Y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={last3Transactions:[],last3TransactionsStatus:B},e.onApiCallSuccess=function(t){var a=t.map((function(e){return{id:e.id,amount:e.amount,category:e.category,date:e.date,userId:e.user_id,transactionName:e.transaction_name,type:e.type}}));e.setState({last3Transactions:Object(v.a)(a),last3TransactionsStatus:V})},e.onApiCallFailure=function(){console.log("failure"),e.setState({last3TransactionsStatus:z})},e.renderSuccessView=function(){var t=e.state.last3Transactions;return Object(O.jsxs)("div",{className:"dash-transactions-sec",children:[Object(O.jsx)("h1",{children:" Last Transaction "}),Object(O.jsx)("ul",{className:"dash-transaction-list",children:t.map((function(e){return Object(O.jsx)(P,{eachTransaction:e},e.id)}))})]})},e.renderView=function(){switch(e.state.last3TransactionsStatus){case V:return e.renderSuccessView();case q:return Object(O.jsx)(K,{});case z:return Object(O.jsx)(U,{});default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(Object(o.a)().mark((function e(){var t,a,s,n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.get("jwt_token"),"https://bursting-gelding-24.hasura.app/api/rest/all-transactions?limit=3&offset=0",a={method:"GET",headers:{"content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":3===t?"admin":"user","x-hasura-user-id":t}},this.setState({last3TransactionsStatus:q}),e.next=7,fetch("https://bursting-gelding-24.hasura.app/api/rest/all-transactions?limit=3&offset=0",a);case 7:if(!(s=e.sent).ok){e.next=16;break}return e.next=11,s.json();case 11:n=e.sent,c=n.transactions,this.onApiCallSuccess(c),e.next=17;break;case 16:this.onApiCallFailure();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.renderView()}}]),a}(s.Component),Q=Y,J=a(569),M=a(568),R=a(291),G=a(292),Z=a(86),H=a(119),$=(a(312),function(e){var t=e.barDataList,a=t.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{date:(t=e.date,new Date(t).toLocaleString("en-US",{weekday:"short"}))});var t})).reduce((function(e,t){return"debit"===t.type?e[t.date]=Object(f.a)(Object(f.a)({},e[t.date]),{},{debit:t.sum}):"credit"===t.type&&(e[t.date]=Object(f.a)(Object(f.a)({},e[t.date]),{},{credit:t.sum})),e}),{}),s=Object.keys(a).map((function(e){return Object(f.a)({date:e},a[e])}));return Object(O.jsx)(J.a,{width:"100%",height:400,children:Object(O.jsxs)(M.a,{data:s,margin:{top:5},children:[Object(O.jsx)(R.a,{dataKey:"date",tick:{stroke:"gray",strokeWidth:1}}),Object(O.jsx)(G.a,{tickFormatter:function(e){return"$".concat(e)},tick:{stroke:"gray",strokeWidth:0}}),Object(O.jsx)(Z.a,{wrapperStyle:{padding:30},verticalAlign:"top",align:"right"}),Object(O.jsx)(H.a,{dataKey:"debit",className:"custom-bar",name:"debit",fill:"#1f77b4",barSize:"10%"}),Object(O.jsx)(H.a,{dataKey:"credit",className:"custom-bar",name:"credit",fill:"#fd7f0e",barSize:"10%"})]})})}),W=(a(559),{dashboard:"DASHBOARD",allTransactions:"ALL TRANSACTIONS",profile:"PROFILE",initial:"INITIAL",success:"SUCCESS",failure:"FAILURE",loading:"LOADING"}),X=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={creditBalance:0,debitBalance:0,barDataList:[],selected:W.dashboard,creditDebitTotalStatus:W.initial,barDataStatus:W.initial},e.onSuccess=function(t){var a=0,s=0,n=t.map((function(e){return"debit"===e.type?a+=e.sum:s+=e.sum,null}));console.log(n),e.setState({debitBalance:a,creditBalance:s,creditDebitTotalStatus:W.success})},e.onFailure=function(){console.log("failure"),e.setState({creditDebitTotalStatus:W.failure})},e.onBarApiSuccess=function(t){e.setState({barDataList:Object(v.a)(t),barDataStatus:W.success})},e.onBarApiFailure=function(){console.log("barApiFailure"),e.setState({barDataStatus:W.failure})},e.onChangeNavItem=function(t){e.setState({selected:W[t]})},e.barChartSuccessView=function(){var t=e.state.barDataList;return Object(O.jsxs)("div",{className:"barchart-sec",children:[Object(O.jsx)("h1",{children:" Debit & Credit Overview "}),Object(O.jsx)($,{barDataList:t})]})},e.renderBarChartView=function(){switch(e.state.barDataStatus){case W.success:return e.barChartSuccessView();case W.loading:return Object(O.jsx)(K,{});case W.failure:return Object(O.jsx)(U,{});default:return null}},e.renderTotalAmountSuccessView=function(){var t=e.state,a=t.creditBalance,s=t.debitBalance;return Object(O.jsxs)("div",{className:"debit-credit-sec",children:[Object(O.jsxs)("div",{className:"debit-credit-card",children:[Object(O.jsxs)("div",{className:"amount-sec",children:[Object(O.jsxs)("h1",{children:[" $",a," "]}),Object(O.jsx)("p",{children:" Credit "})]}),Object(O.jsx)("img",{alt:"credit-pic",className:"money-img",src:"https://img.freepik.com/free-vector/salary-difference-society-structure-hierarchy_107791-14023.jpg?w=1480&t=st=1690775866~exp=1690776466~hmac=2c773a3864bcb02e59ddf9c15da0cb3ec5471182f9c26aff9497233154fc9fb8"})]}),Object(O.jsxs)("div",{className:"debit-credit-card",children:[Object(O.jsxs)("div",{className:"amount-sec",children:[Object(O.jsxs)("h1",{children:[" $",s," "]}),Object(O.jsx)("p",{children:" Debit "})]}),Object(O.jsx)("img",{alt:"debit-pic",className:"money-img",src:"https://img.freepik.com/free-vector/business-people-competitors-celebrating-success_3446-701.jpg?w=826&t=st=1690775874~exp=1690776474~hmac=8913163d7c65984bc5a1b75d0889fa724aba42b1a3e503eeef9aa47a015bca1c"})]})]})},e.renderTotalView=function(){switch(e.state.creditDebitTotalStatus){case W.success:return e.renderTotalAmountSuccessView();case W.loading:return Object(O.jsx)(K,{});case W.failure:return Object(O.jsx)(U,{});default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(Object(o.a)().mark((function e(){var t,a,s,n,c,r,i,l,d,u,j,h,p,b;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("https://bursting-gelding-24.hasura.app/api/rest/credit-debit-totals",t="https://bursting-gelding-24.hasura.app/api/rest/transaction-totals-admin",a=m.a.get("jwt_token"),n={method:"GET",headers:{"content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":s="3"===a?"admin":"user","x-hasura-user-id":a}},c={method:"GET",headers:{"content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":s}},r={},this.setState({creditDebitTotalStatus:W.loading,barDataStatus:W.loading}),"user"!==s){e.next=14;break}return e.next=11,fetch("https://bursting-gelding-24.hasura.app/api/rest/credit-debit-totals",n);case 11:r=e.sent,e.next=17;break;case 14:return e.next=16,fetch(t,c);case 16:r=e.sent;case 17:if(this.setState({creditDebitTotalStatus:W.loading,barDataStatus:W.loading}),!r.ok){e.next=28;break}return e.next=21,r.json();case 21:i=e.sent,l={},l="user"===s?{creditDebitTransactions:i.totals_credit_debit_transactions}:{creditDebitTransactions:i.transaction_totals_admin},d=l.creditDebitTransactions,this.onSuccess(d),e.next=29;break;case 28:this.onFailure();case 29:if(u="https://bursting-gelding-24.hasura.app/api/rest/daywise-totals-last-7-days-admin","https://bursting-gelding-24.hasura.app/api/rest/daywise-totals-7-days",j={},"user"!==s){e.next=38;break}return e.next=35,fetch("https://bursting-gelding-24.hasura.app/api/rest/daywise-totals-7-days",n);case 35:j=e.sent,e.next=41;break;case 38:return e.next=40,fetch(u,c);case 40:j=e.sent;case 41:if(!j.ok){e.next=51;break}return e.next=44,j.json();case 44:h=e.sent,p={},p="user"===s?{last7Transactions:h.last_7_days_transactions_credit_debit_totals}:{last7Transactions:h.last_7_days_transactions_totals_admin},b=p.last7Transactions,this.onBarApiSuccess(b),e.next=52;break;case 51:this.onBarApiFailure();case 52:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.selected;return Object(O.jsxs)("div",{className:"app-container",children:[Object(O.jsx)(k,{isSelected:e,onChangeNavItem:this.onChangeNavItem}),Object(O.jsxs)("div",{className:"app-sec",children:[Object(O.jsx)(F,{isSelected:e,onChangeNavItem:this.onChangeNavItem}),Object(O.jsx)(_,{headerName:"Accounts"}),Object(O.jsxs)("div",{className:"dashboard-container",children:[this.renderTotalView(),Object(O.jsx)(Q,{}),this.renderBarChartView()]})]})]})}}]),a}(s.Component),ee=X,te=(a(560),function(e){var t,a,s,n=e.headerName,c=e.changeList;return"user"===("3"===m.a.get("jwt_token")?"admin":"user")?(t=Object(O.jsx)(E,{}),a=null,s="app-header"):(t=null,a=Object(O.jsxs)("ul",{className:"transactions-view",children:[Object(O.jsxs)("li",{className:"view-list-item",onClick:function(){c("allTransactions")},children:[" ","All Transactions"," "]}),Object(O.jsxs)("li",{className:"view-list-item",onClick:function(){c("debit")},children:[" ","Debit"," "]}),Object(O.jsxs)("li",{className:"view-list-item",onClick:function(){c("credit")},children:[" ","Credit"," "]})]}),s="app-header  admin-app-header"),Object(O.jsxs)("div",{className:s,children:[Object(O.jsxs)("h1",{className:"app-head",children:[" ",n," "]}),t,a]})}),ae=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={transactionName:"",transactionType:"",category:"",amount:"",date:""},e.onChangeTransactionName=function(t){e.setState({transactionName:t.target.value})},e.onChangeTransactionType=function(t){e.setState({transactionType:t.target.value})},e.onChangeCategory=function(t){e.setState({category:t.target.value})},e.onChangeAmount=function(t){e.setState({amount:t.target.value})},e.onChangeDate=function(t){var a=t.target.value,s=new Date(a).toISOString();e.setState({date:s})},e.onAddSuccess=function(){console.log("success")},e.onAddFailure=function(){console.log("failure")},e.onUpdateTransaction=function(){var t=Object(d.a)(Object(o.a)().mark((function t(a){var s,n,c,r,i,l,d,u,j,h,p,b,O,x;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state,n=s.transactionName,c=s.transactionType,r=s.category,i=s.amount,l=s.date,d=e.props,u=d.close,j=d.id,a.preventDefault(),"https://bursting-gelding-24.hasura.app/api/rest/update-transaction",h=m.a.get("jwt_token"),p={id:j,name:n,type:c,category:r,amount:i,date:l},b={method:"POST",headers:{"Content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":3===h?"admin":"user","x-hasura-user-id":h},body:JSON.stringify(p)},t.next=10,fetch("https://bursting-gelding-24.hasura.app/api/rest/update-transaction",b);case 10:if(!(O=t.sent).ok){t.next=19;break}return t.next=14,O.json();case 14:x=t.sent,console.log(x),e.onAddSuccess(),t.next=20;break;case 19:e.onAddFailure();case 20:u(),window.location.reload();case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(j.a)(a,[{key:"render",value:function(){var e=this.state,t=e.transactionName,a=e.transactionType,s=e.category,n=e.amount,c=e.date,r=this.props.close;return Object(O.jsxs)("form",{onSubmit:this.onUpdateTransaction,className:"add-transaction-form",children:[Object(O.jsxs)("div",{className:"transaction-head-sec",children:[Object(O.jsx)("h1",{children:" Update Transaction "}),Object(O.jsx)(w.a,{onClick:function(){return r()}})]}),Object(O.jsx)("p",{children:" You can Update your Transactions here "}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"transactionName",className:"label-el",children:[" ","Transaction Name"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Enter Name",value:t,id:"transactionName",onChange:this.onChangeTransactionName})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsx)("label",{htmlFor:"transactionType",children:" Transaction Type "}),Object(O.jsxs)("select",{name:"type",value:a,required:!0,className:"input-el select-el",onChange:this.onChangeTransactionType,id:"transactionType",children:[Object(O.jsx)("option",{value:"",hidden:!0,disabled:!0,children:"Select transaction type"}),Object(O.jsx)("option",{value:"debit",children:" Debit "}),Object(O.jsx)("option",{value:"credit",children:" Credit "})]})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsx)("label",{htmlFor:"category",children:" Category "}),Object(O.jsxs)("select",{name:"type",value:s,required:!0,className:"input-el select-el",id:"category",onChange:this.onChangeCategory,children:[Object(O.jsx)("option",{value:"",hidden:!0,disabled:!0,children:"Select"}),Object(O.jsx)("option",{value:"",hidden:!0,disabled:!0,children:"Select category"}),Object(O.jsx)("option",{value:"entertainment",children:"Entertainment"}),Object(O.jsx)("option",{value:"food",children:"Food"}),Object(O.jsx)("option",{value:"shopping",children:"Shopping"}),Object(O.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"amount",className:"label-el",children:[" ","Amount"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Enter Amount",value:n,id:"amount",onChange:this.onChangeAmount})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"date",className:"label-el",children:[" ","Date"," "]}),Object(O.jsx)("input",{type:"datetime-local",className:"input-el",value:c,id:"date",onChange:this.onChangeDate})]}),Object(O.jsxs)("button",{className:"add-transaction",type:"submit",children:[" ","Update Transaction"," "]})]})}}]),a}(s.Component),se=ae,ne=function(e){var t=e.id;return Object(O.jsx)("div",{className:"popup-container",children:Object(O.jsx)(C.a,{modal:!0,trigger:Object(O.jsx)(S.b,{className:"icons pencil-icon "}),children:function(e){return Object(O.jsx)(se,{close:e,id:t})}})})},ce=a(293),re=function(e){var t=e.id,a=function(){var e=Object(d.a)(Object(o.a)().mark((function e(){var a,s,n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.a.get("jwt_token"),s={id:t},"https://bursting-gelding-24.hasura.app/api/rest/delete-transaction",n={method:"DELETE",headers:{"Content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":3===a?"admin":"user","x-hasura-user-id":a},body:JSON.stringify(s)},e.next=7,fetch("https://bursting-gelding-24.hasura.app/api/rest/delete-transaction",n);case 7:c=e.sent,console.log(c),window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(C.a,{modal:!0,trigger:Object(O.jsx)(ce.a,{className:"icons debit-transaction"}),children:function(e){return Object(O.jsxs)("div",{className:"logout-popup",children:[Object(O.jsx)(L.b,{className:"logout-icon"}),Object(O.jsxs)("div",{className:"logout-data",children:[Object(O.jsx)("h1",{children:" Are you Sure you want to logout "}),Object(O.jsx)("p",{children:" click yes to logout "}),Object(O.jsxs)("div",{className:"logout-btns-container",children:[Object(O.jsxs)("button",{type:"button",className:"logout-sec-btns yes-btn",onClick:a,children:[" ","Yes, Delete"," "]}),Object(O.jsxs)("button",{type:"button",className:"logout-sec-btns cancel-btn",onClick:function(){return e()},children:[" ","Cancel"," "]})]})]}),Object(O.jsx)(w.a,{onClick:function(){return e()},className:"cancel-icon"})]})}})},ie=(a(561),function(e){var t,a,s=e.eachTransaction,n=s.id,c=s.transactionName,r=s.type,i=s.amount,l=s.category,o=s.date;"debit"===r?(t=Object(O.jsxs)("p",{className:"para-el debit-transaction  ",children:[" -",i," "]}),a=Object(O.jsx)(L.a,{className:"debit-transaction icons"})):(t=Object(O.jsxs)("p",{className:"para-el credit-transaction",children:[" +",i]}),a=Object(O.jsx)(L.c,{className:"credit-transaction icons"}));var d=new Date(o).toLocaleString("en-US",{day:"numeric",month:"short",hour:"numeric",minute:"numeric",hour12:!0});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("li",{className:"dash-list-item",children:[Object(O.jsxs)("div",{className:"transaction-name-sec transaction-name",children:[a,Object(O.jsxs)("p",{className:"para-el  ",children:[" ",c," "]})]}),Object(O.jsxs)("p",{className:"para-el transaction-para ",children:[" ",l," "]}),Object(O.jsxs)("p",{className:"para-el transaction-para ",children:[" ",d," "]}),Object(O.jsxs)("div",{className:"amount",children:[t,Object(O.jsxs)("div",{className:"icons-container",children:[Object(O.jsx)(ne,{id:n}),Object(O.jsx)(re,{id:n})]})]})]}),Object(O.jsx)("hr",{className:"hr-el"})]})}),le=(a(562),{dashboard:"DASHBOARD",allTransactions:"all transactions",profile:"PROFILE",debit:"debit",credit:"credit",initial:"INITIAL",success:"SUCCESS",failure:"FAILURE",loading:"LOADING"}),oe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={transactionsList:[],selected:le.dashboard,currentUser:"",selectedView:le.allTransactions,apiCallStatus:le.initial},e.onApiCallSuccess=function(t){var a=t.map((function(e){return{id:e.id,amount:e.amount,category:e.category,date:e.date,userId:e.user_id,transactionName:e.transaction_name,type:e.type}}));e.setState({transactionsList:Object(v.a)(a),apiCallStatus:le.success})},e.onApiCallFailure=function(){console.log("failure"),e.setState({apiCallStatus:le.failure})},e.onChangeNavItem=function(t){e.setState({selected:le[t]})},e.changeList=function(t){e.setState({selectedView:le[t]})},e.renderUserView=function(){var t=e.state.transactionsList;return Object(O.jsx)("div",{className:"all-transactions-sec",children:Object(O.jsxs)("ul",{className:"transactions-list-container",children:[Object(O.jsxs)("li",{className:"dash-list-item",children:[Object(O.jsx)("p",{className:"para-el transaction-name ",children:" Transaction Name "}),Object(O.jsx)("p",{className:"para-el transaction-para ",children:" Category "}),Object(O.jsx)("p",{className:"para-el transaction-para ",children:" Date "}),Object(O.jsx)("p",{className:"para-el amount ",children:" Amount "})]}),Object(O.jsx)("hr",{className:"hr-el"}),t.map((function(e){return Object(O.jsx)(ie,{eachTransaction:e},e.id)}))]})})},e.filteredList=function(){var t=e.state,a=t.transactionsList,s=t.selectedView;return a.filter((function(e){return e.type===s}))},e.renderAdminView=function(){var t=e.state,a=t.transactionsList,s=[];return s="all transactions"!==t.selectedView?e.filteredList():a,Object(O.jsx)("div",{className:"all-transactions-sec",children:Object(O.jsxs)("ul",{className:"admin-transactions-list-container",children:[Object(O.jsxs)("li",{className:"dash-list-item",children:[Object(O.jsxs)("p",{className:"para-el admin-transaction-name ",children:[" ","Transaction Name"," "]}),Object(O.jsx)("p",{className:"para-el admin-transaction-para ",children:" Category "}),Object(O.jsx)("p",{className:"para-el admin-transaction-para ",children:" Date "}),Object(O.jsx)("p",{className:"para-el admin-amount ",children:" Amount "})]}),Object(O.jsx)("hr",{className:"hr-el"}),s.map((function(e){return Object(O.jsx)(P,{eachTransaction:e},e.id)}))]})})},e.renderSuccessView=function(){return"user"===e.state.currentUser?e.renderUserView():e.renderAdminView()},e.renderView=function(){switch(e.state.apiCallStatus){case le.success:return e.renderSuccessView();case le.loading:return Object(O.jsx)(K,{});case le.failure:return Object(O.jsx)(U,{});default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(Object(o.a)().mark((function e(){var t,a,s,n,c,r;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.a.get("jwt_token"),a="3"===t?"admin":"user",this.setState({currentUser:a,apiCallStatus:le.loading}),"https://bursting-gelding-24.hasura.app/api/rest/all-transactions?limit=100&offset=0",s={method:"GET",headers:{"content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":a,"x-hasura-user-id":t}},e.next=7,fetch("https://bursting-gelding-24.hasura.app/api/rest/all-transactions?limit=100&offset=0",s);case 7:if(!(n=e.sent).ok){e.next=16;break}return e.next=11,n.json();case 11:c=e.sent,r=c.transactions,this.onApiCallSuccess(r),e.next=17;break;case 16:this.onApiCallFailure();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.selected;return Object(O.jsxs)("div",{className:"app-container",children:[Object(O.jsx)(k,{isSelected:e,onChangeNavItem:this.onChangeNavItem}),Object(O.jsxs)("div",{className:"app-sec",children:[Object(O.jsx)(F,{isSelected:e,onChangeNavItem:this.onChangeNavItem}),Object(O.jsx)(te,{headerName:"All Transactions",changeList:this.changeList}),this.renderView()]})]})}}]),a}(s.Component),de=oe,ue=(a(563),{dashboard:"DASHBOARD",allTransactions:"ALL TRANSACTIONS",profile:"PROFILE",initial:"INITIAL",success:"SUCCESS",failure:"FAILURE",loading:"LOADING"}),je=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={userDetails:{},selected:ue.dashboard,profileApiStatus:ue.initial},e.onApiSuccess=function(t){e.setState({userDetails:Object(f.a)({},t),profileApiStatus:ue.success})},e.onApiFailure=function(){console.log("failure"),e.setState({profileApiStatus:ue.failure})},e.onChangeNavItem=function(t){e.setState({selected:ue[t]})},e.renderSuccessView=function(){var t=e.state.userDetails,a=t.city,s=t.country,n=t.dateOfBirth,c=t.email,r=t.name,i=t.permanentAddress,l=t.postalCode,o=t.presentAddress;return Object(O.jsx)("div",{className:"profile-container",children:Object(O.jsxs)("div",{className:"profile-sec",children:[Object(O.jsx)("div",{className:"profile-img-sec",children:Object(O.jsx)("img",{src:"https://thumbs.dreamstime.com/b/businesswoman-profile-icon-female-portrait-flat-design-vector-illustration-47075260.jpg",alt:"display-pic",className:"display-pic"})}),Object(O.jsxs)("div",{className:"profile-input-el-sec",children:[Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"name",className:"label-el",children:[" ","Name"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"name",value:r,id:"name"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"email",className:"label-el",children:[" ","Email"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Email",value:c,id:"email"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"dob",className:"label-el",children:[" ","Date of Birth"," "]}),Object(O.jsx)("input",{type:"date",className:"input-el",value:n,id:"dob"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"address",className:"label-el",children:[" ","Permanent Address"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Permanent Address",value:i,id:"address"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"pincode",className:"label-el",children:[" ","Postal Code"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Postal code",value:l,id:"pincode"})]})]}),Object(O.jsxs)("div",{className:"profile-input-el-sec",children:[Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"username",className:"label-el",children:[" ","Username"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"username",value:r,id:"user"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"password",className:"label-el",children:[" ","Password"," "]}),Object(O.jsx)("input",{type:"password",className:"input-el",placeholder:"Password",value:"********",id:"password"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"presentAddress",className:"label-el",children:[" ","Present Address"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:" Present Address",value:o,id:"presentAddress"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"city",className:"label-el",children:[" ","City"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"City",value:a,id:"city"})]}),Object(O.jsxs)("div",{className:"input-sec",children:[Object(O.jsxs)("label",{htmlFor:"country",className:"label-el",children:[" ","Country"," "]}),Object(O.jsx)("input",{type:"input",className:"input-el",placeholder:"Country",value:s,id:"country"})]})]})]})})},e.renderView=function(){switch(e.state.profileApiStatus){case ue.success:return e.renderSuccessView();case ue.loading:return Object(O.jsx)(K,{});case ue.failure:return Object(O.jsx)(U,{});default:return null}},e}return Object(j.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(Object(o.a)().mark((function e(){var t,a,s,n,c,r,i,l;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://bursting-gelding-24.hasura.app/api/rest/profile",t=m.a.get("jwt_token"),a=3===t?"admin":"user",this.setState({profileApiStatus:ue.loading}),s={method:"GET",headers:{"Content-type":"application/json","x-hasura-admin-secret":"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF","x-hasura-role":a,"x-hasura-user-id":t}},e.next=7,fetch("https://bursting-gelding-24.hasura.app/api/rest/profile",s);case 7:if(!(n=e.sent).ok){e.next=18;break}return e.next=11,n.json();case 11:c=e.sent,r=c.users,i=r[0],l={city:i.city,country:i.country,dateOfBirth:i.date_of_birth,email:i.email,id:i.id,name:i.name,permanentAddress:i.permanent_address,postalCode:i.postal_code,presentAddress:i.present_address},this.onApiSuccess(l),e.next=19;break;case 18:this.onApiFailure();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.selected;return Object(O.jsxs)("div",{className:"app-container",children:[Object(O.jsx)(k,{isSelected:e,onChangeNavItem:this.onChangeNavItem}),Object(O.jsxs)("div",{className:"app-sec",children:[Object(O.jsx)(F,{isSelected:e,onChangeNavItem:this.onChangeNavItem}),Object(O.jsx)(_,{headerName:"Profile"}),this.renderView()]})]})}}]),a}(s.Component),he=je,pe=(a(564),function(){return Object(O.jsx)("div",{className:"not-found",children:Object(O.jsx)("h1",{children:" Error 404 Not Found "})})}),be=(a(565),function(){return Object(O.jsxs)(l.d,{children:[Object(O.jsx)(l.b,{exact:!0,path:"/login",component:g}),Object(O.jsx)(N,{exact:!0,path:"/",component:ee}),Object(O.jsx)(N,{exact:!0,path:"/all-transactions",component:de}),Object(O.jsx)(N,{exact:!0,path:"/profile",component:he}),Object(O.jsx)(l.b,{path:"/not-found",component:pe}),Object(O.jsx)(l.a,{to:"/not-found"})]})});r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(i.a,{basename:"/pin-scale-assignment",children:Object(O.jsx)(be,{})})}),document.getElementById("root"))}},[[566,1,2]]]);
//# sourceMappingURL=main.dc7add68.chunk.js.map